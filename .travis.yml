language: java
jdk:
  - oraclejdk8          // tells Travis to use Java 8

addons:
  sonarcloud:
    organization: "nekoworkshop-github"
    token:
      secure: "SvRZK+/ESFQfxCv0do45pEdIYYmjZuJDIFOjPYarSYHzOuMc3Kjlyg0VF12T9uKag39JfKIPlFi6zVk3urgOwLv843IpEAQ5FqpTFuKf+lQfrV8D7vWsXGiumQ7kuUeKRA72MIO8mQPZTZ0btRM5DuSJCNxjdFDptbBmoy/LXa6vaI2HpK6LpNkWecRBmlAzziDm5qFMeC5AdufVOYzfUx+owrrhszGqNNsSA2o3N8GnkPkfhRcWqJ5df9CvHvsn8ZCu/WgaBAJOiLNPmSIv697FW2L83UzM6CRCcF8VjQwDRQz15bwo0IaqBu3BRDK5uhJySwZArSsk5y4Peu+QA/PoYD7ai/Yk99iEhNgNNbr49RxNqAFYw9hSLujae028QTIx9WwCLLzFBh8xtDKu3mqzn0xBRjWrnVr24vdX9MzlfZUNd1Tc8ganm3Hj+QWFAWnCKLBfwKa15DdaZD2LvXKMSeKSOoMAKqO8qXJqQnAnqRiSjw09x8ZxZdOOtu1m8dHk8NYBipL1W+7GSALqfak5Nx2co/E3qELP223Q0IH47FZG5oHL9epHTWUn74KLeT7ugMt7T/ZOPUFw3lBf11p33Oibycm/KarvI64h0qvrguDIIQ5hs5GMVGLyQ5hi80R1aHg28WGo9KnEmu4UPx5Y+5VvDEx6ODuK68rEqQQ="


before_script:
- chmod a+x gradlew

script:
  - ./gradlew sonarqube

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    - '$HOME/.m2/repository'
    - '$HOME/.sonar/cache'
    - '$HOME/.gradle'
    - '.gradle'
